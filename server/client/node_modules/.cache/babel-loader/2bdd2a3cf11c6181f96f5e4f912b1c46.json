{"ast":null,"code":"import _slicedToArray from \"/Users/karishma/Desktop/photo/Photo-Flick/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/karishma/Desktop/photo/Photo-Flick/server/client/src/components/Navbar/Navbar.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\nimport decode from \"jwt-decode\";\nimport { AppBar, Avatar, Button, Toolbar, Typography } from \"@material-ui/core\";\nimport img from \"../../Images/image.png\";\nimport useStyles from \"./styles\";\n\nvar Navbar = function Navbar() {\n  var classes = useStyles();\n\n  var _useState = useState(JSON.parse(localStorage.getItem(\"profile\"))),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var dispatch = useDispatch();\n  var history = useNavigate();\n  var location = useLocation();\n\n  var logout = function logout() {\n    dispatch({\n      type: \"LOGOUT\"\n    });\n    history(\"/\");\n    setUser(null);\n    window.location.reload();\n  };\n\n  useEffect(function () {\n    var token = \"\";\n\n    if (user && user.token) {\n      token = user.token;\n    }\n\n    if (token) {\n      var decodedToken = decode(token);\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n    }\n\n    setUser(JSON.parse(localStorage.getItem(\"profile\")));\n  }, [location]);\n  return /*#__PURE__*/React.createElement(AppBar, {\n    className: classes.appBar,\n    position: \"static\",\n    color: \"inherit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.brandContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: Link,\n    to: \"/\",\n    className: classes.heading,\n    variant: \"h2\",\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, \"PHOTO FLICK\"), /*#__PURE__*/React.createElement(\"img\", {\n    className: classes.image,\n    src: img,\n    alt: \"image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Toolbar, {\n    className: classes.toolbar,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, user && user.result ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.profile,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.purple,\n    alt: user.result,\n    src: user.result.imageUrl,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, user.result.name.charAt(0)), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.userName,\n    variant: \"h6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, user.result.name), /*#__PURE__*/React.createElement(Button, {\n    className: classes.buttonn,\n    onClick: function onClick() {\n      history(\"/create\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"CREATE\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    className: classes.logout,\n    color: \"secondary\",\n    onClick: logout,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"LOGOUT\")) : /*#__PURE__*/React.createElement(Button, {\n    className: classes.logout,\n    component: Link,\n    to: \"/auth\",\n    variant: \"contained\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"SIGN IN\")));\n};\n\nexport default Navbar;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","Link","useNavigate","useLocation","decode","AppBar","Avatar","Button","Toolbar","Typography","img","useStyles","Navbar","classes","JSON","parse","localStorage","getItem","user","setUser","dispatch","history","location","logout","type","window","reload","token","decodedToken","exp","Date","getTime","appBar","brandContainer","heading","image","toolbar","result","profile","purple","imageUrl","name","charAt","userName","buttonn"],"sources":["/Users/karishma/Desktop/photo/Photo-Flick/server/client/src/components/Navbar/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport decode from \"jwt-decode\";\r\nimport { AppBar, Avatar, Button, Toolbar, Typography } from \"@material-ui/core\";\r\nimport img from \"../../Images/image.png\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst Navbar = () => {\r\n  const classes = useStyles();\r\n\r\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"profile\")));\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useNavigate();\r\n  const location = useLocation();\r\n  const logout = () => {\r\n    dispatch({ type: \"LOGOUT\" });\r\n    history(\"/\");\r\n    setUser(null);\r\n    window.location.reload();\r\n  };\r\n\r\n  useEffect(() => {\r\n    let token = \"\";\r\n    if (user && user.token) {\r\n      token = user.token;\r\n    }\r\n    if (token) {\r\n      const decodedToken = decode(token);\r\n\r\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\r\n    }\r\n\r\n    setUser(JSON.parse(localStorage.getItem(\"profile\")));\r\n  }, [location]);\r\n\r\n  return (\r\n    <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\r\n      <div className={classes.brandContainer}>\r\n        <Typography\r\n          component={Link}\r\n          to=\"/\"\r\n          className={classes.heading}\r\n          variant=\"h2\"\r\n          align=\"center\"\r\n        >\r\n          PHOTO FLICK\r\n        </Typography>\r\n        <img className={classes.image} src={img} alt=\"image\"></img>\r\n      </div>\r\n      <Toolbar className={classes.toolbar}>\r\n        {user && user.result ? (\r\n          <div className={classes.profile}>\r\n            <Avatar\r\n              className={classes.purple}\r\n              alt={user.result}\r\n              src={user.result.imageUrl}\r\n            >\r\n              {user.result.name.charAt(0)}\r\n            </Avatar>\r\n            <Typography className={classes.userName} variant=\"h6\">\r\n              {user.result.name}\r\n            </Typography>\r\n            <Button\r\n              className={classes.buttonn}\r\n              onClick={() => {\r\n                history(\"/create\");\r\n              }}\r\n            >\r\n              CREATE\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              className={classes.logout}\r\n              color=\"secondary\"\r\n              onClick={logout}\r\n            >\r\n              LOGOUT\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <Button\r\n            className={classes.logout}\r\n            component={Link}\r\n            to=\"/auth\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            SIGN IN\r\n          </Button>\r\n        )}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\nexport default Navbar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}